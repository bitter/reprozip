Ubuntu 9.10 and higher

- Install SystemTap
  (see http://sourceware.org/systemtap/wiki/SystemtapOnUbuntu)
  (see https://lists.ubuntu.com/archives/ubuntu-users/2010-October/229714.html)
  
  . sudo apt-get install systemtap

  . sudo apt-get install pkg-create-dbgsym
  . create file /etc/apt/sources.list.d/ddebs.list
  . include ddebs repository in /etc/apt/sources.list.d/ddebs.list
    "deb http://ddebs.ubuntu.com $(lsb_release -cs) main restricted universe multiverse"
    "deb http://ddebs.ubuntu.com $(lsb_release -cs)-updates main restricted universe multiverse"
    "deb http://ddebs.ubuntu.com $(lsb_release -cs)-security main restricted universe multiverse"
    "deb http://ddebs.ubuntu.com $(lsb_release -cs)-proposed main restricted universe multiverse"
  . sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys ECDCAD72428D7C01
  . sudo apt-get update
  . sudo apt-get install linux-image-$(uname -r)-dbgsym

  . sudo apt-get install elfutils
  . run the following script as a root:
    "for file in `find /usr/lib/debug -name '*.ko' -print`
     do
        buildid=`eu-readelf -n $file| grep Build.ID: | awk '{print $3}'`
        dir=`echo $buildid | cut -c1-2`
        fn=`echo $buildid | cut -c3-`
        mkdir -p /usr/lib/debug/.build-id/$dir
        ln -sf $file /usr/lib/debug/.build-id/$dir/$fn
        ln -sf $file /usr/lib/debug/.build-id/$dir/${fn}.debug
      done"

  . add user to groups 'stapdev' and 'stapusr'
    . sudo usermod -a -G stapdev <user>
    . sudo usermod -a -G stapusr <user>
    . log out and then log in

  . now, it should be installed! Try the following scripts:
    sudo stap -ve 'probe begin { log("hello world") exit () }'
    sudo stap -v -e 'probe vfs.read {printf("read performed\n"); exit()}'


- Create log directory
  . mkdir $HOME/log


- Install MongoDB
  (http://www.mongodb.org/display/DOCS/Building+for+Linux)

  . sudo apt-get install git-core build-essential scons

  . git clone git://github.com/mongodb/mongo.git
  . cd mongo
  . git tag -l
  . git checkout (version)
  . scons all
    . you'll need to install boost:
      sudo apt-get install libboost-dev libboost-program-options-dev libboost-thread-dev libboost-filesystem-dev
  . scons --prefix=/opt/mongo install
  . include /opt/mongo/bin in PATH

  . create the database directory
    . mkdir $HOME/log/MongoDB

  . go to Startup Applications
  . add a new entry for MongoDB with the following command:
    mongod --fork --quiet --dbpath $HOME/log/MongoDB --logpath $HOME/log/MongoDB/mongodb.log --logappend
  . log out and log in
  . rm $HOME/log/MongoDB/mongodb.lock


- Install PyMongo
  . sudo apt-get install python-pip
  . sudo apt-get install python-dev
  . sudo pip install pymongo

